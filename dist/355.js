"use strict";(self.webpackChunkie104_nft_marketplace=self.webpackChunkie104_nft_marketplace||[]).push([[355],{5455:(e,t,n)=>{n.d(t,{B:()=>c});var r=n(5928),o=n(1999),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},c=new(function(){function e(){this.walletAddress={value:"",get:function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,(0,o.f5)()];case 1:return e=t.sent()||"",this.value=e,[2,e]}}))}))},set:function(e){this.value=e}},this.isAvailableConnect={value:!1,set:function(e){this.value=e},get:function(){var e=(0,o.qS)(o.AI.Metamask);return this.set(e),e}},this.isConnected={value:!1,getOnChange:function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2]}))}))},set:function(e){this.value=e,this.getOnChange()},get:function(){return this.value},loadAvatar:function(){return i(this,void 0,void 0,(function(){var e,t,n,i;return a(this,(function(a){switch(a.label){case 0:return e=document.getElementById("header-avatar"),t=document.getElementById("btn-login"),this.get()?(e.style.display="flex",t.style.display="none"):(e.style.display="none",t.style.display="flex"),[4,(0,o.f5)()];case 1:return n=a.sent(),i=document.getElementById("pop-up-user-name"),n&&(i.innerHTML=(0,r.Ve)(n,10)||"",i.title=n),[2]}}))}))}},this.listener()}return e.prototype.connect=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.isConnected.set(!0),[4,this.walletAddress.get()];case 1:return e.sent(),[3,3];case 2:return e.sent(),this.isConnected.set(!1),this.walletAddress.set(""),[3,3];case 3:return[2]}}))}))},e.prototype.disconnect=function(){try{this.isConnected.set(!1),this.walletAddress.set("")}catch(e){}},e.prototype.accountChanged=function(e){try{e&&e.length>0?(this.isConnected.set(!0),this.walletAddress.get()):this.disconnect()}catch(e){}},e.prototype.listener=function(){},e}())},6129:(e,t,n)=>{n.d(t,{s:()=>m});var r=n(2037),o=n(5005),i=n(2449),a=n(57),c=n(5455),s=n(1999),l=n(1599),u=n(5928),d=n(8860),f=n(9522),h=n(3957),y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},v=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},m=new(function(){function e(){}return e.prototype.handleBuyNft=function(e){return p(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,(0,s.M$)()];case 1:return t.sent(),[4,c.B.connect()];case 2:t.sent();try{a.y.set(e),a.y.open()}catch(e){}return[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}}))}))},e.prototype.UpdateNftItemComponent=function(e){return p(this,void 0,void 0,(function(){var t,n,o,i=this;return v(this,(function(a){if(!e)return[2];if(!(t=document.querySelector(h._A.ListNftContainer)))return console.log("listNftContainer is not exists"),[2];if(!(n=t.querySelector('div[data-token-id="'.concat(e.tokenId,'"][').concat(h.dM.CltAddress,'="').concat(e.collectionAddress,'"]'))))return[2];e.title&&e.imageUri?null==n||n.setAttribute(h.dM.Loading,h.Q.Success):null==n||n.setAttribute(h.dM.Loading,h.Q.Pending),o={eContainer:n,eDescription:n.querySelector(".".concat(h.oR.Description)),eImage:n.querySelector(".".concat(h.oR.Image)),eMetadataUri:n.querySelector(".".concat(h.oR.MetadataUri)),ePrice:n.querySelector(".".concat(h.oR.Price)),eStatus:n.querySelector(".".concat(h.oR.Status)),eTitle:n.querySelector(".".concat(h.oR.Title)),eButtonBuy:n.querySelector(".".concat(h.oR.ButtonBuy)),eUserName:n.querySelector(".".concat(h.oR.UserName)),eAddressNFT:n.querySelector(".".concat(h.oR.AddressNFT)),eOrderNFT:n.querySelector(".".concat(h.oR.OrderNFT)),eUserAvatar:n.querySelector(".".concat(h.oR.UserAvatar))};try{o.eImage.src=e.imageGatewayUrl?e.imageGatewayUrl:(0,d.S)(e.collectionAddress),o.eContainer.setAttribute(h.dM.TokenId,e.tokenId.toString()),o.eContainer.setAttribute(h.dM.CltAddress,e.collectionAddress),o.eTitle.innerHTML=e.title,o.eTitle.title=e.title,o.ePrice.innerHTML=e.price,o.ePrice.title=e.price,o.eStatus.innerHTML=e.status,o.eMetadataUri.innerHTML=e.tokenUri,o.eUserName.innerHTML=(0,u.Ve)(e.seller||""),o.eUserName.title=e.seller||"",o.eAddressNFT.innerHTML=(0,u.Ve)(e.collectionAddress)||"",o.eAddressNFT.title=e.collectionAddress,o.eAddressNFT.href=(0,f.mk)(e.collectionAddress),o.eOrderNFT.innerHTML="#"+e.tokenId.toString(),o.eUserAvatar.src=(0,d.S)(e.seller||r.n)}catch(e){console.log(e)}return o.eButtonBuy.style.display="flex",o.eButtonBuy.addEventListener("click",(function(){i.handleBuyNft(e)})),[2]}))}))},e.prototype.UpdateCardItemComponent=function(e){return p(this,void 0,void 0,(function(){var t,n,r;return v(this,(function(o){if(!e)return[2];if(!(t=document.querySelector(h._A.ContainerHeroCard)))return console.log("listCardContainer is not exists"),[2];if(!(n=t.querySelector('div[data-token-id="'.concat(e.tokenId,'"][').concat(h.dM.CltAddress,'="').concat(e.collectionAddress,'"]'))))return[2];n.style.display="flex",e.title&&e.imageUri?null==n||n.setAttribute(h.dM.Loading,h.Q.Success):null==n||n.setAttribute(h.dM.Loading,h.Q.Pending),(r={eContainer:n,eTitle:n.querySelector(".".concat(h.Ud.Title)),eUserName:n.querySelector(".".concat(h.Ud.UserName))}).eContainer.style.setProperty("background","url(".concat(e.imageGatewayUrl,")"));try{r.eTitle.innerHTML=e.title,r.eTitle.title=e.title,r.eUserName.innerHTML=(0,u.Ve)(e.seller||""),r.eUserName.title=e.seller||""}catch(e){}return[2]}))}))},e.prototype.CreateCardComponent=function(e){return p(this,void 0,void 0,(function(){var t,n,r;return v(this,(function(o){if(!(t=document.querySelector("#container-card-template")))return[2,document.createElement("div")];(n=t.cloneNode(!0)).style.display="flex",(r={eContainer:n,eTitle:n.querySelector(".".concat(h.Ud.Title)),eUserName:n.querySelector(".".concat(h.Ud.UserName))}).eContainer.style.setProperty("background","url(".concat(e.imageGatewayUrl||(0,d.S)(e.collectionAddress),")")),r.eContainer.setAttribute(h.dM.TokenId,e.tokenId.toString()),r.eContainer.setAttribute(h.dM.CltAddress,e.collectionAddress),r.eContainer.setAttribute(h.dM.Loading,h.Q.Pending);try{r.eTitle.innerHTML=e.title,r.eTitle.title=e.title,r.eUserName.innerHTML=(0,u.Ve)(e.seller||""),r.eUserName.title=e.seller||""}catch(e){console.log(e)}return[2,n]}))}))},e.prototype.CreateNftItemComponent=function(e){var t;return p(this,void 0,void 0,(function(){var n,o,i,a=this;return v(this,(function(c){if(!(n=null===(t=document.querySelector("#nft-template"))||void 0===t?void 0:t.firstElementChild))return[2,document.createElement("div")];o=n.cloneNode(!0),(i={eContainer:o,eDescription:o.querySelector(".".concat(h.oR.Description)),eImage:o.querySelector(".".concat(h.oR.Image)),eMetadataUri:o.querySelector(".".concat(h.oR.MetadataUri)),ePrice:o.querySelector(".".concat(h.oR.Price)),eStatus:o.querySelector(".".concat(h.oR.Status)),eTitle:o.querySelector(".".concat(h.oR.Title)),eButtonBuy:o.querySelector(".".concat(h.oR.ButtonBuy)),eUserName:o.querySelector(".".concat(h.oR.UserName)),eAddressNFT:o.querySelector(".".concat(h.oR.AddressNFT)),eOrderNFT:o.querySelector(".".concat(h.oR.OrderNFT)),eUserAvatar:o.querySelector(".".concat(h.oR.UserAvatar))}).eImage.src=e.imageGatewayUrl?e.imageGatewayUrl:(0,d.S)(e.collectionAddress),i.eContainer.setAttribute(h.dM.TokenId,e.tokenId.toString()),i.eContainer.setAttribute(h.dM.CltAddress,e.collectionAddress),i.eContainer.setAttribute(h.dM.Loading,h.Q.Pending),console.log(e);try{i.eTitle.innerHTML=e.title,i.eTitle.title=e.title,i.ePrice.innerHTML=e.price,i.ePrice.title=e.price,i.eStatus.innerHTML=e.status,i.eMetadataUri.innerHTML=e.tokenUri,i.eUserName.innerHTML=(0,u.Ve)(e.seller||""),i.eUserName.title=e.seller||"",i.eAddressNFT.innerHTML=(0,u.Ve)(e.collectionAddress)||"",i.eAddressNFT.title=e.collectionAddress,i.eAddressNFT.href=(0,f.mk)(e.collectionAddress),i.eOrderNFT.innerHTML="#"+e.tokenId.toString(),i.eButtonBuy.style.display="flex",i.eUserAvatar.src=(0,d.S)(e.seller||r.n)}catch(e){console.log(e)}return i.eButtonBuy.addEventListener("click",(function(){a.handleBuyNft(e)})),[2,o]}))}))},e.prototype.clearNftContainer=function(){return p(this,void 0,void 0,(function(){var e;return v(this,(function(t){try{if(!(e=document.querySelector(h._A.ListNftContainer)))return console.log("listNftContainer is not exists"),[2];e.innerHTML=""}catch(e){console.log(e)}return[2]}))}))},e.prototype.getAllNftOfMarket=function(){return p(this,void 0,void 0,(function(){var e,t,n,a,c,u,d,f,m,g=this;return v(this,(function(C){switch(C.label){case 0:return e=[],[],[],t=document.querySelector(h._A.ListNftContainer),n=document.querySelector(h._A.ContainerHeroCard),t?[4,(0,s.Je)()]:(console.log("listNftContainer is not exists"),[2]);case 1:a=C.sent()||o.zG[0].chainId,c=r.UV[a].MARKET,C.label=2;case 2:return C.trys.push([2,7,,8]),[4,(0,l.rF)(c)];case 3:return u=C.sent(),[4,Promise.all(u.collectionAddresses.map((function(t){return p(g,void 0,void 0,(function(){var n,r;return v(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,l.IF)(c,t,0,100)];case 1:return(n=o.sent())&&n.tokenIds&&n.tokenIds.length>0&&n.tokenIds.forEach((function(r,o){e.push(y(y({},i.q),{collectionAddress:t,tokenId:r,status:"Sale",price:n.askInfo[o].price,seller:n.askInfo[o].seller}))})),[3,3];case 2:return r=o.sent(),console.log(r),[3,3];case 3:return[2]}}))}))})))];case 4:return C.sent(),this.clearNftContainer(),d=["left","active","right"],f=function(e){var t=e.currentTarget,n=document.querySelector(".cards.active");if(!t.classList.contains("active")){var r=e.currentTarget.className,o=n.className;t.className=o,n.className=r}},e.slice(6,9).forEach((function(e,t){return p(g,void 0,void 0,(function(){var r,o;return v(this,(function(i){switch(i.label){case 0:return o=(r=n).appendChild,[4,this.CreateCardComponent(e)];case 1:return o.apply(r,[i.sent()]),n.children[t].classList.add(d[t]),n.children[t].addEventListener("click",f),[2]}}))}))})),e.slice(0,6).forEach((function(e,n){return p(g,void 0,void 0,(function(){var n,r;return v(this,(function(o){switch(o.label){case 0:return r=(n=t).appendChild,[4,this.CreateNftItemComponent(e)];case 1:return r.apply(n,[o.sent()]),[2]}}))}))})),[4,Promise.all(e.map((function(t,n){return p(g,void 0,void 0,(function(){var r;return v(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,s.ln)(t.collectionAddress,t.tokenId)];case 1:return r=o.sent(),e[n].tokenUri=r||"",[3,3];case 2:return o.sent(),[3,3];case 3:return[2]}}))}))})))];case 5:return C.sent(),console.log({listNfts:e}),[4,Promise.all(e.map((function(t,n){return p(g,void 0,void 0,(function(){var r;return v(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,(0,s.sd)(t.tokenUri)];case 1:return r=o.sent(),e[n].title=r.name||"",e[n].description=r.description||"",e[n].imageUri=r.image||"",e[n].imageGatewayUrl=(0,s.U6)(r.image)||"",[4,this.UpdateNftItemComponent(e[n])];case 2:return o.sent(),[4,this.UpdateCardItemComponent(e[n])];case 3:return o.sent(),[3,5];case 4:return o.sent(),[3,5];case 5:return[2]}}))}))})))];case 6:return C.sent(),[3,8];case 7:return m=C.sent(),console.log(m),[3,8];case 8:return[2]}}))}))},e}())},3957:(e,t,n)=>{var r,o,i,a,c;n.d(t,{Q:()=>i,Ud:()=>c,_A:()=>r,dM:()=>a,oR:()=>o}),function(e){e.ContainerNoConnection="#container-no-connection",e.ContainerConnected="#container-connected",e.ButtonConnect="#btn-connect",e.ListNftContainer="#list-nft__container",e.ContainerHeroCard="#container-card"}(r||(r={})),function(e){e.Container="nft__container",e.Image="nft__img",e.Title="nft__title",e.Description="nft__description",e.Price="nft__price",e.Status="nft__status",e.MetadataUri="nft__metadataUri",e.ButtonBuy="nft__button-buy",e.UserName="nft__user-name",e.AddressNFT="nft__address",e.OrderNFT="nft__order",e.UserAvatar="nft-card__user-avatar"}(o||(o={})),function(e){e.Pending="pending",e.Success="success",e.Fail="fail"}(i||(i={})),function(e){e.Loading="data-loading",e.TokenId="data-token-id",e.CltAddress="data-clt-address"}(a||(a={})),function(e){e.Container="nft-eg__content",e.Image="nft__img",e.Title="nft-eg__name",e.UserName="nft-eg__user .user-name"}(c||(c={}))},1743:(e,t,n)=>{n.d(t,{AI:()=>o,nY:()=>f,qS:()=>y,yl:()=>h});var r,o,i=n(6588),a=n(241),c=n(5005),s=n(4538),l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};!function(e){e.Metamask="Metamask",e.WalletConnect="Wallet Connect",e.CoinBase="Coin Base"}(o||(o={}));var d=((r={})[o.Metamask]=window.ethereum,r);function f(){var e;return l(this,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:return[4,(0,s.Je)()];case 1:return t=r.sent()||c.zG[0].chainId,n=null===(e=c.zG.find((function(e){return e.chainId===t})))||void 0===e?void 0:e.rpcUrl,[2,new i.r(n)]}}))}))}function h(){if(window.ethereum&&void 0!==window.ethereum)return new a.Q(window.ethereum)}function y(e){if(e===o.Metamask)return d[o.Metamask].isConnected()}}}]);