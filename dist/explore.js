(()=>{"use strict";var e,t={9213:(e,t,n)=>{var r,o,i,c,a=n(370),s=n(57),l=n(7388),u=n(1999),d=n(2037),f=n(5005),y=n(2449),p=n(1599),h=n(5928),v=n(8860),m=n(9522);!function(e){e.Pending="pending",e.Success="success",e.Fail="fail"}(r||(r={})),function(e){e.Loading="data-loading",e.TokenId="data-token-id",e.CltAddress="data-clt-address"}(o||(o={})),function(e){e.Container="nft__container",e.Image="nft__img",e.Title="nft__title",e.Description="nft__description",e.Price="nft__price",e.Status="nft__status",e.MetadataUri="nft__metadataUri",e.ButtonBuy="nft__button-buy",e.UserName="nft__user-name",e.AddressNFT="nft__address",e.OrderNFT="nft__order",e.UserAvatar="nft-card__user-avatar"}(i||(i={})),function(e){e.ContainerNoConnection="#container-no-connection",e.ContainerConnected="#container-connected",e.ButtonConnect="#btn-connect",e.ListNftContainer="#list-nft__container"}(c||(c={}));var b=function(){return b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},b.apply(this,arguments)},g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((r=r.apply(e,t||[])).next())}))},w=function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(c=0)),c;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},k=new(function(){function e(){}return e.prototype.UpdateNftItemComponent=function(e){return g(this,void 0,void 0,(function(){var t,n,a,s=this;return w(this,(function(l){return(t=document.querySelector(c.ListNftContainer))?(n=t.querySelector('div[data-token-id="'.concat(e.tokenId,'"][').concat(o.CltAddress,'="').concat(e.collectionAddress,'"]')))?(e.title&&e.imageUri?null==n||n.setAttribute(o.Loading,r.Success):null==n||n.setAttribute(o.Loading,r.Pending),(a={eContainer:n,eDescription:n.querySelector(".".concat(i.Description)),eImage:n.querySelector(".".concat(i.Image)),eMetadataUri:n.querySelector(".".concat(i.MetadataUri)),ePrice:n.querySelector(".".concat(i.Price)),eStatus:n.querySelector(".".concat(i.Status)),eTitle:n.querySelector(".".concat(i.Title)),eButtonBuy:n.querySelector(".".concat(i.ButtonBuy)),eUserName:n.querySelector(".".concat(i.UserName)),eAddressNFT:n.querySelector(".".concat(i.AddressNFT)),eOrderNFT:n.querySelector(".".concat(i.OrderNFT)),eUserAvatar:n.querySelector(".".concat(i.UserAvatar))}).eImage.src=e.imageGatewayUrl?e.imageGatewayUrl:(0,v.S)(e.collectionAddress),a.eContainer.setAttribute(o.TokenId,e.tokenId.toString()),a.eContainer.setAttribute(o.CltAddress,e.collectionAddress),a.eTitle.innerHTML=e.title,a.eTitle.title=e.title,a.eDescription.innerHTML=e.description,a.ePrice.innerHTML=e.price,a.ePrice.title=e.price,a.eStatus.innerHTML=e.status,a.eMetadataUri.innerHTML=e.tokenUri,a.eUserName.innerHTML=(0,h.Ve)(e.seller||""),a.eUserName.title=e.seller||"",a.eAddressNFT.innerHTML=(0,h.Ve)(e.collectionAddress)||"",a.eAddressNFT.title=e.collectionAddress,a.eAddressNFT.href=(0,m.mk)(e.collectionAddress),a.eOrderNFT.innerHTML="#"+e.tokenId.toString(),a.eUserAvatar.src=(0,v.S)(e.seller||d.n),a.eButtonBuy.style.display="block",a.eButtonBuy.addEventListener("click",(function(){s.handleBuyNft(e)})),[2]):[2]:(console.log("listNftContainer is not exists"),[2])}))}))},e.prototype.CreateNftItemComponent=function(e){var t;return g(this,void 0,void 0,(function(){var n,c,a,s=this;return w(this,(function(l){return(n=null===(t=document.querySelector("#nft-template"))||void 0===t?void 0:t.firstElementChild)?(c=n.cloneNode(!0),(a={eContainer:c,eDescription:c.querySelector(".".concat(i.Description)),eImage:c.querySelector(".".concat(i.Image)),eMetadataUri:c.querySelector(".".concat(i.MetadataUri)),ePrice:c.querySelector(".".concat(i.Price)),eStatus:c.querySelector(".".concat(i.Status)),eTitle:c.querySelector(".".concat(i.Title)),eButtonBuy:c.querySelector(".".concat(i.ButtonBuy)),eUserName:c.querySelector(".".concat(i.UserName)),eAddressNFT:c.querySelector(".".concat(i.AddressNFT)),eOrderNFT:c.querySelector(".".concat(i.OrderNFT)),eUserAvatar:c.querySelector(".".concat(i.UserAvatar))}).eImage.src=e.imageGatewayUrl?e.imageGatewayUrl:(0,v.S)(e.collectionAddress),a.eContainer.setAttribute(o.TokenId,e.tokenId.toString()),a.eContainer.setAttribute(o.CltAddress,e.collectionAddress),a.eContainer.setAttribute(o.Loading,r.Pending),a.eTitle.innerHTML=e.title,a.eTitle.title=e.title,a.eDescription.innerHTML=e.description,a.ePrice.innerHTML=e.price,a.ePrice.title=e.price,a.eStatus.innerHTML=e.status,a.eMetadataUri.innerHTML=e.tokenUri,a.eUserName.innerHTML=(0,h.Ve)(e.seller||"")||"",a.eUserName.title=e.seller||"",a.eAddressNFT.innerHTML=(0,h.Ve)(e.collectionAddress)||"",a.eAddressNFT.title=e.collectionAddress,a.eAddressNFT.href=(0,m.mk)(e.collectionAddress),a.eOrderNFT.innerHTML="#"+e.tokenId.toString(),a.eUserAvatar.src=(0,v.S)(e.seller||d.n),a.eButtonBuy.style.display="block",a.eButtonBuy.addEventListener("click",(function(){s.handleBuyNft(e)})),[2,c]):[2,document.createElement("div")]}))}))},e.prototype.clearNftContainer=function(){return g(this,void 0,void 0,(function(){var e;return w(this,(function(t){try{if(!(e=document.querySelector(c.ListNftContainer)))return console.log("listNftContainer is not exists"),[2];e.innerHTML=""}catch(e){console.log(e)}return[2]}))}))},e.prototype.handleBuyNft=function(e){return g(this,void 0,void 0,(function(){return w(this,(function(t){try{try{s.y.set(e),s.y.open()}catch(e){}}catch(e){}return[2]}))}))},e.prototype.getAllNftOfMarket=function(){return g(this,void 0,void 0,(function(){var e,t,n,r,o,i,a=this;return w(this,(function(s){switch(s.label){case 0:return e=[],(t=document.querySelector(c.ListNftContainer))?[4,(0,u.Je)()]:(console.log("listNftContainer is not exists"),[2]);case 1:n=s.sent()||f.zG[0].chainId,r=d.UV[n].MARKET,console.log({currentChainId:n}),s.label=2;case 2:return s.trys.push([2,8,,9]),[4,(0,p.rF)(r)];case 3:return o=s.sent(),[4,Promise.all(o.collectionAddresses.map((function(t){return g(a,void 0,void 0,(function(){var n,o;return w(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,p.IF)(r,t,0,100)];case 1:return(n=i.sent())&&n.tokenIds&&n.tokenIds.length>0&&n.tokenIds.forEach((function(r,o){e.push(b(b({},y.q),{collectionAddress:t,tokenId:r,status:"Sale",price:n.askInfo[o].price,seller:n.askInfo[o].seller}))})),[3,3];case 2:return o=i.sent(),console.log(o),[3,3];case 3:return[2]}}))}))})))];case 4:return s.sent(),[4,this.clearNftContainer()];case 5:return s.sent(),e.forEach((function(e,n){return g(a,void 0,void 0,(function(){var n,r;return w(this,(function(o){switch(o.label){case 0:return r=(n=t).appendChild,[4,this.CreateNftItemComponent(e)];case 1:return r.apply(n,[o.sent()]),[2]}}))}))})),[4,Promise.all(e.map((function(t,n){return g(a,void 0,void 0,(function(){var r;return w(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,u.ln)(t.collectionAddress,t.tokenId)];case 1:return r=o.sent(),e[n].tokenUri=r||"",[3,3];case 2:return o.sent(),[3,3];case 3:return[2]}}))}))})))];case 6:return s.sent(),[4,Promise.all(e.map((function(t,n){return g(a,void 0,void 0,(function(){var r;return w(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,(0,u.sd)(t.tokenUri)];case 1:return r=o.sent(),e[n].title=r.name||"",e[n].description=r.description||"",e[n].imageUri=r.image||"",e[n].imageGatewayUrl=(0,u.U6)(r.image)||"",[4,this.UpdateNftItemComponent(e[n])];case 2:return o.sent(),[3,4];case 3:return o.sent(),[3,4];case 4:return[2]}}))}))})))];case 7:return s.sent(),[3,9];case 8:return i=s.sent(),console.log(i),[3,9];case 9:return[2]}}))}))},e}()),S=n(8495),T=n(6765),A=n(2709),C=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((r=r.apply(e,t||[])).next())}))},N=function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(c=0)),c;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},I=document.getElementById("close-pop-up-user"),U=document.getElementById("header-avatar"),M=document.getElementById("alert-overlay-close"),B=document.getElementById("alert-cancel"),_=document.getElementById("alert-close"),L=document.getElementById("header-sign-out");function q(e){e.preventDefault();var t=document.getElementById("pop-up-user");"hidden"===t.style.visibility?(t.style.visibility="visible",t.style.opacity="1"):(t.style.visibility="hidden",t.style.opacity="0")}(0,u._l)().then((function(){l.Fp.listener(),l.Fp.updateAccountAddress(),(0,l.uP)(l.Fp.currentAddress),T.R.initChainId()})).catch((function(e){console.log(e),T.R.initChainId()})),I.onclick=q,U.onclick=q;var O=function(e){e.preventDefault();var t=document.getElementById("alert-sigout");"hidden"===t.style.visibility?t.style.visibility="visible":t.style.visibility="hidden"};M.onclick=O,B.onclick=O,_.onclick=O,L.onclick=O,document.addEventListener("DOMContentLoaded",(function(){function e(){return C(this,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,k.getAllNftOfMarket()];case 1:return e.sent(),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}}))}))}document.getElementById(s.R.ButtonAccept).addEventListener("click",(function(e){s.y.buy().then((function(e){k.getAllNftOfMarket(),s.y.close(),A.Q2.set("Buy successfully",A.pC.success),A.Q2.open()})).catch((function(e){console.log(e),A.Q2.set(e.message,A.pC.error),A.Q2.open()})).finally((function(){a.l.close()}))}));try{e(),window.ethereum.on("chainChanged",(function(t){T.R.updateChainId(t),e();var n=document.querySelector(c.ListNftContainer);n&&(n.innerHTML=S.B0)}))}catch(e){console.log(e)}})),window.addEventListener("resize",(function(){if(window.innerWidth<=880){var e=document.getElementById("pop-up-user");e&&(e.style.visibility="hidden",e.style.opacity="0")}}))},1999:(e,t,n)=>{n.d(t,{Je:()=>r.Je,M$:()=>r.M$,U6:()=>o.U6,_l:()=>r._l,f5:()=>r.f5,ln:()=>o.ln,sd:()=>o.sd,yl:()=>i.yl});n(4087);var r=n(4538),o=n(7422),i=n(1743)},1743:(e,t,n)=>{n.d(t,{nY:()=>d,yl:()=>f});var r,o,i=n(6588),c=n(241),a=n(5005),s=n(4538),l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(c=0)),c;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};!function(e){e.Metamask="Metamask",e.WalletConnect="Wallet Connect",e.CoinBase="Coin Base"}(o||(o={}));(r={})[o.Metamask]=window.ethereum;function d(){var e;return l(this,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:return[4,(0,s.Je)()];case 1:return t=r.sent()||a.zG[0].chainId,n=null===(e=a.zG.find((function(e){return e.chainId===t})))||void 0===e?void 0:e.rpcUrl,[2,new i.r(n)]}}))}))}function f(){if(window.ethereum&&void 0!==window.ethereum)return new c.Q(window.ethereum)}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,r.amdO={},e=[],r.O=(t,n,o,i)=>{if(!n){var c=1/0;for(u=0;u<e.length;u++){for(var[n,o,i]=e[u],a=!0,s=0;s<n.length;s++)(!1&i||c>=i)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(a=!1,i<c&&(c=i));if(a){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.j=782,(()=>{var e={782:0,977:0,178:0,93:0,744:0,447:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[c,a,s]=n,l=0;if(c.some((t=>0!==e[t]))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(s)var u=s(r)}for(t&&t(n);l<c.length;l++)i=c[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},n=self.webpackChunkie104_nft_marketplace=self.webpackChunkie104_nft_marketplace||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[987,977,178,93,744,447,369,334,983,57,113],(()=>r(9213)));o=r.O(o)})();